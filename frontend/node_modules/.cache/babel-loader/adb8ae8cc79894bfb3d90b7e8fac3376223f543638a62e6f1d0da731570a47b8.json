{"ast":null,"code":"import React,{useEffect,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Browse(){const[listings,setListings]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{// Fetch all listings - backend endpoint may be 'get_all_listings.php'\n// If your backend uses a different route, update the URL below.\nconst url='https://rehooz-app-491933218528.us-east4.run.app/backend/get_all_listings.php';fetch(url).then(res=>res.json()).then(data=>{if(data.status==='success'&&Array.isArray(data.listings)){setListings(data.listings);}else{// if backend uses a different shape, try common alternatives\nif(Array.isArray(data))setListings(data);}}).catch(err=>{console.warn('Failed to fetch listings',err);setError('Failed to load listings.');}).finally(()=>setLoading(false));},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"page-content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Browse\"}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading listings\\u2026\"}):error?/*#__PURE__*/_jsx(\"p\",{children:error}):listings.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No listings available.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"Listings-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"Listings-column\",style:{maxWidth:'820px'},children:[/*#__PURE__*/_jsx(\"h3\",{className:\"column-title\",children:\"All Listings\"}),/*#__PURE__*/_jsx(\"div\",{className:\"scroll-box\",\"aria-label\":\"All listings\",children:listings.map(item=>/*#__PURE__*/_jsx(\"div\",{className:\"Listing-component\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"listing-content\",children:[/*#__PURE__*/_jsx(\"h4\",{children:item.name||item.title}),/*#__PURE__*/_jsx(\"p\",{children:item.description}),/*#__PURE__*/_jsxs(\"p\",{style:{marginTop:'8px'},children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"$\",item.price?parseFloat(item.price).toFixed(2):'0.00']}),item.location?\" \\u2022 \".concat(item.location):'']})]})},item.listing_id||item.id))})]})})]});}","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","Browse","listings","setListings","loading","setLoading","error","setError","url","fetch","then","res","json","data","status","Array","isArray","catch","err","console","warn","finally","className","children","length","style","maxWidth","map","item","name","title","description","marginTop","price","parseFloat","toFixed","location","concat","listing_id","id"],"sources":["C:/Users/cmfra/rehooz/frontend/src/pages/Browse.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nexport default function Browse() {\r\n  const [listings, setListings] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // Fetch all listings - backend endpoint may be 'get_all_listings.php'\r\n    // If your backend uses a different route, update the URL below.\r\n    const url = 'https://rehooz-app-491933218528.us-east4.run.app/backend/get_all_listings.php';\r\n\r\n    fetch(url)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.status === 'success' && Array.isArray(data.listings)) {\r\n          setListings(data.listings);\r\n        } else {\r\n          // if backend uses a different shape, try common alternatives\r\n          if (Array.isArray(data)) setListings(data);\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.warn('Failed to fetch listings', err);\r\n        setError('Failed to load listings.');\r\n      })\r\n      .finally(() => setLoading(false));\r\n  }, []);\r\n\r\n  return (\r\n    <main className=\"page-content\">\r\n      <h2>Browse</h2>\r\n\r\n      {loading ? (\r\n        <p>Loading listings…</p>\r\n      ) : error ? (\r\n        <p>{error}</p>\r\n      ) : listings.length === 0 ? (\r\n        <p>No listings available.</p>\r\n      ) : (\r\n        <div className=\"Listings-container\">\r\n          <div className=\"Listings-column\" style={{ maxWidth: '820px' }}>\r\n            <h3 className=\"column-title\">All Listings</h3>\r\n            <div className=\"scroll-box\" aria-label=\"All listings\">\r\n              {listings.map((item) => (\r\n                <div key={item.listing_id || item.id} className=\"Listing-component\">\r\n                  <div className=\"listing-content\">\r\n                    <h4>{item.name || item.title}</h4>\r\n                    <p>{item.description}</p>\r\n                    <p style={{ marginTop: '8px' }}>\r\n                      <strong>${item.price ? parseFloat(item.price).toFixed(2) : '0.00'}</strong>\r\n                      {item.location ? ` • ${item.location}` : ''}\r\n                    </p>\r\n                  </div>\r\n                  {/*<img\r\n                    className=\"listing-image\"\r\n                    src={`https://www.cs.virginia.edu/~zha4ub/rehooz/photos/${item.photo || 'default.jpg'}`}\r\n                    alt={item.name || item.title || 'listing'}\r\n                  />*/}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </main>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}