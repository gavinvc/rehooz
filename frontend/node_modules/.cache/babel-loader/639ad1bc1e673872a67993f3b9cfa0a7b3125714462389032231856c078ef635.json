{"ast":null,"code":"import React,{useEffect,useMemo,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_BASE_URL=\"https://rehooz-app-491933218528.us-east4.run.app/backend\";export default function Connect(_ref){let{user:propUser}=_ref;const navigate=useNavigate();// logged-in user from props or localStorage\nconst user=propUser||JSON.parse(localStorage.getItem(\"user\")||\"null\");const[following,setFollowing]=useState([]);const[followers,setFollowers]=useState([]);const[searchQuery,setSearchQuery]=useState(\"\");const[searchResults,setSearchResults]=useState([]);const[loading,setLoading]=useState(false);const followingIds=useMemo(()=>new Set(following.map(u=>u.user_id)),[following]);useEffect(()=>{if(!user){navigate(\"/\");}},[user,navigate]);const fetchConnections=async()=>{if(!user)return;try{setLoading(true);const res=await fetch(\"\".concat(API_BASE_URL,\"/get_connections.php\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({user_id:user.user_id})});const text=await res.text();let data;try{data=JSON.parse(text);}catch(e){console.error(\"Bad JSON from get_connections.php:\",text);return;}if(data.status===\"success\"){setFollowing(data.following||[]);setFollowers(data.followers||[]);}else{console.error(\"get_connections failed:\",data);}}catch(err){console.error(\"Error calling get_connections.php:\",err);}finally{setLoading(false);}};// load connections when page opens or when user changes\nuseEffect(()=>{if(user){fetchConnections();}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[user&&user.user_id]);const handleSearch=async e=>{e.preventDefault();if(!searchQuery.trim()||!user)return;try{setLoading(true);const res=await fetch(\"\".concat(API_BASE_URL,\"/search_users.php\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({query:searchQuery.trim(),user_id:user.user_id})});const data=await res.json();if(data.status===\"success\"){setSearchResults(data.results||[]);}else{console.error(\"search_users failed:\",data);}}catch(err){console.error(\"Error searching users:\",err);}finally{setLoading(false);}};const follow=async targetId=>{if(!user)return;try{const res=await fetch(\"\".concat(API_BASE_URL,\"/follow_user.php\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({user_id:user.user_id,follow_id:targetId})});const data=await res.json();if(data.status===\"success\"){await fetchConnections();}else{alert(data.message||\"Could not follow user\");}}catch(err){console.error(\"Error following user:\",err);}};const unfollow=async targetId=>{if(!user)return;try{const res=await fetch(\"\".concat(API_BASE_URL,\"/unfollow_user.php\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({user_id:user.user_id,follow_id:targetId})});const data=await res.json();if(data.status===\"success\"){await fetchConnections();}else{alert(data.message||\"Could not unfollow user\");}}catch(err){console.error(\"Error unfollowing user:\",err);}};if(!user){return null;}return/*#__PURE__*/_jsx(\"div\",{className:\"connect-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"connect-card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"connect-title\",children:\"Connect\"}),/*#__PURE__*/_jsxs(\"section\",{className:\"connect-search-section\",children:[/*#__PURE__*/_jsxs(\"form\",{className:\"connect-search-form\",onSubmit:handleSearch,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"connect-search-input\",placeholder:\"Search by username\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"connect-search-btn\",children:\"Search\"})]}),loading&&/*#__PURE__*/_jsx(\"p\",{className:\"connect-loading\",children:\"Loading\\u2026\"}),searchResults.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"connect-search-results\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Search Results\"}),/*#__PURE__*/_jsx(\"ul\",{children:searchResults.map(u=>{const isFollowing=followingIds.has(u.user_id);return/*#__PURE__*/_jsxs(\"li\",{className:\"connect-result-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"connect-result-text\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"connect-username\",children:u.username}),u.city&&/*#__PURE__*/_jsxs(\"span\",{className:\"connect-city\",children:[\"\\xB7 \",u.city]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:isFollowing?\"follow-btn follow-btn--outline\":\"follow-btn\",onClick:()=>isFollowing?unfollow(u.user_id):follow(u.user_id),children:isFollowing?\"Unfollow\":\"Follow\"})]},u.user_id);})})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"connect-columns\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"connect-column\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"People You Follow (\",following.length,\")\"]}),following.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"connect-empty\",children:\"You aren't following anyone yet.\"}):/*#__PURE__*/_jsx(\"ul\",{children:following.map(u=>/*#__PURE__*/_jsxs(\"li\",{className:\"connect-name-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"connect-username\",children:u.username}),u.city&&/*#__PURE__*/_jsxs(\"span\",{className:\"connect-city\",children:[\"\\xB7 \",u.city]})]},u.user_id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"connect-column\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Your Followers (\",followers.length,\")\"]}),followers.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"connect-empty\",children:\"No followers yet.\"}):/*#__PURE__*/_jsx(\"ul\",{children:followers.map(u=>/*#__PURE__*/_jsxs(\"li\",{className:\"connect-name-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"connect-username\",children:u.username}),u.city&&/*#__PURE__*/_jsxs(\"span\",{className:\"connect-city\",children:[\"\\xB7 \",u.city]})]},u.user_id))})]})]})]})});}","map":{"version":3,"names":["React","useEffect","useMemo","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","API_BASE_URL","Connect","_ref","user","propUser","navigate","JSON","parse","localStorage","getItem","following","setFollowing","followers","setFollowers","searchQuery","setSearchQuery","searchResults","setSearchResults","loading","setLoading","followingIds","Set","map","u","user_id","fetchConnections","res","fetch","concat","method","headers","body","stringify","text","data","e","console","error","status","err","handleSearch","preventDefault","trim","query","json","results","follow","targetId","follow_id","alert","message","unfollow","className","children","onSubmit","type","placeholder","value","onChange","target","length","isFollowing","has","username","city","onClick"],"sources":["C:/Users/cmfra/rehooz/frontend/src/pages/Connect.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst API_BASE_URL =\r\n  \"https://rehooz-app-491933218528.us-east4.run.app/backend\";\r\n\r\nexport default function Connect({ user: propUser }) {\r\n  const navigate = useNavigate();\r\n\r\n  // logged-in user from props or localStorage\r\n  const user = propUser || JSON.parse(localStorage.getItem(\"user\") || \"null\");\r\n\r\n  const [following, setFollowing] = useState([]);\r\n  const [followers, setFollowers] = useState([]);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const followingIds = useMemo(\r\n    () => new Set(following.map((u) => u.user_id)),\r\n    [following]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!user) {\r\n      navigate(\"/\");\r\n    }\r\n  }, [user, navigate]);\r\n\r\n  const fetchConnections = async () => {\r\n    if (!user) return;\r\n    try {\r\n      setLoading(true);\r\n      const res = await fetch(`${API_BASE_URL}/get_connections.php`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ user_id: user.user_id }),\r\n      });\r\n\r\n      const text = await res.text();\r\n      let data;\r\n      try {\r\n        data = JSON.parse(text);\r\n      } catch (e) {\r\n        console.error(\"Bad JSON from get_connections.php:\", text);\r\n        return;\r\n      }\r\n\r\n      if (data.status === \"success\") {\r\n        setFollowing(data.following || []);\r\n        setFollowers(data.followers || []);\r\n      } else {\r\n        console.error(\"get_connections failed:\", data);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error calling get_connections.php:\", err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // load connections when page opens or when user changes\r\n  useEffect(() => {\r\n    if (user) {\r\n      fetchConnections();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [user && user.user_id]);\r\n\r\n  const handleSearch = async (e) => {\r\n    e.preventDefault();\r\n    if (!searchQuery.trim() || !user) return;\r\n\r\n    try {\r\n      setLoading(true);\r\n      const res = await fetch(`${API_BASE_URL}/search_users.php`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          query: searchQuery.trim(),\r\n          user_id: user.user_id,\r\n        }),\r\n      });\r\n\r\n      const data = await res.json();\r\n      if (data.status === \"success\") {\r\n        setSearchResults(data.results || []);\r\n      } else {\r\n        console.error(\"search_users failed:\", data);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error searching users:\", err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const follow = async (targetId) => {\r\n    if (!user) return;\r\n    try {\r\n      const res = await fetch(`${API_BASE_URL}/follow_user.php`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          user_id: user.user_id,\r\n          follow_id: targetId,\r\n        }),\r\n      });\r\n      const data = await res.json();\r\n      if (data.status === \"success\") {\r\n        await fetchConnections();\r\n      } else {\r\n        alert(data.message || \"Could not follow user\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error following user:\", err);\r\n    }\r\n  };\r\n\r\n  const unfollow = async (targetId) => {\r\n    if (!user) return;\r\n    try {\r\n      const res = await fetch(`${API_BASE_URL}/unfollow_user.php`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          user_id: user.user_id,\r\n          follow_id: targetId,\r\n        }),\r\n      });\r\n      const data = await res.json();\r\n      if (data.status === \"success\") {\r\n        await fetchConnections();\r\n      } else {\r\n        alert(data.message || \"Could not unfollow user\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error unfollowing user:\", err);\r\n    }\r\n  };\r\n\r\n  if (!user) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"connect-wrapper\">\r\n      <div className=\"connect-card\">\r\n        <h2 className=\"connect-title\">Connect</h2>\r\n\r\n        {/* Search section */}\r\n        <section className=\"connect-search-section\">\r\n          <form className=\"connect-search-form\" onSubmit={handleSearch}>\r\n            <input\r\n              type=\"text\"\r\n              className=\"connect-search-input\"\r\n              placeholder=\"Search by username\"\r\n              value={searchQuery}\r\n              onChange={(e) => setSearchQuery(e.target.value)}\r\n            />\r\n            <button type=\"submit\" className=\"connect-search-btn\">\r\n              Search\r\n            </button>\r\n          </form>\r\n\r\n          {loading && <p className=\"connect-loading\">Loading…</p>}\r\n\r\n          {searchResults.length > 0 && (\r\n            <div className=\"connect-search-results\">\r\n              <h3>Search Results</h3>\r\n              <ul>\r\n                {searchResults.map((u) => {\r\n                  const isFollowing = followingIds.has(u.user_id);\r\n                  return (\r\n                    <li key={u.user_id} className=\"connect-result-item\">\r\n                      <div className=\"connect-result-text\">\r\n                        <span className=\"connect-username\">{u.username}</span>\r\n                        {u.city && (\r\n                          <span className=\"connect-city\">· {u.city}</span>\r\n                        )}\r\n                      </div>\r\n                      <button\r\n                        type=\"button\"\r\n                        className={\r\n                          isFollowing\r\n                            ? \"follow-btn follow-btn--outline\"\r\n                            : \"follow-btn\"\r\n                        }\r\n                        onClick={() =>\r\n                          isFollowing ? unfollow(u.user_id) : follow(u.user_id)\r\n                        }\r\n                      >\r\n                        {isFollowing ? \"Unfollow\" : \"Follow\"}\r\n                      </button>\r\n                    </li>\r\n                  );\r\n                })}\r\n              </ul>\r\n            </div>\r\n          )}\r\n        </section>\r\n\r\n        {/* Following / followers columns */}\r\n        <section className=\"connect-columns\">\r\n          <div className=\"connect-column\">\r\n            <h3>People You Follow ({following.length})</h3>\r\n            {following.length === 0 ? (\r\n              <p className=\"connect-empty\">You aren't following anyone yet.</p>\r\n            ) : (\r\n              <ul>\r\n                {following.map((u) => (\r\n                  <li key={u.user_id} className=\"connect-name-row\">\r\n                    <span className=\"connect-username\">{u.username}</span>\r\n                    {u.city && (\r\n                      <span className=\"connect-city\">· {u.city}</span>\r\n                    )}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"connect-column\">\r\n            <h3>Your Followers ({followers.length})</h3>\r\n            {followers.length === 0 ? (\r\n              <p className=\"connect-empty\">No followers yet.</p>\r\n            ) : (\r\n              <ul>\r\n                {followers.map((u) => (\r\n                  <li key={u.user_id} className=\"connect-name-row\">\r\n                    <span className=\"connect-username\">{u.username}</span>\r\n                    {u.city && (\r\n                      <span className=\"connect-city\">· {u.city}</span>\r\n                    )}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            )}\r\n          </div>\r\n        </section>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}